<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>1.39.&nbsp;System resource</title><link rel="stylesheet" type="text/css" href="resources/css/docbook_bsd.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="dhis2_developer_manual.html" title="DHIS2 Developer Manual"><link rel="up" href="ch01.html" title="Chapter&nbsp;1.&nbsp;Web API"><link rel="prev" href="ch01s38.html" title="1.38.&nbsp;Maintenance"><link rel="next" href="ch01s40.html" title="1.40.&nbsp;Locales"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1.39.&nbsp;System resource</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01s38.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;1.&nbsp;Web API</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch01s40.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e9196"></a>1.39.&nbsp;System resource</h2></div></div></div><p>The system resource provides you with convenient information and functions. The system
      resource can be found at <span class="italic">/api/system</span>. </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9204"></a>1.39.1.&nbsp;Generate identifiers</h3></div></div></div><p>To generate valid, random DHIS 2 identifiers you can do a GET request to this
        resource:</p><pre class="screen">api/system/id?limit=3</pre><p>The <span class="italic">limit</span> query parameter is optional and indicates
        how many identifiers you want to be returned with the response. The default is to return one
        identifier. The response will contain a JSON object with a array named codes, similar to
        this:</p><pre class="screen">{
  "codes": [
    "Y0moqFplrX4",
    "WI0VHXuWQuV",
    "BRJNBBpu4ki"
  ]
}</pre><p>The DHIS 2 UID format has these requirements:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>11 characters long.</p></li><li class="listitem"><p>Alphanumeric characters only, ie. alphabetic or numeric characters
            (A-Za-z0-9).</p></li><li class="listitem"><p>Start with an alphabetic character (A-Za-z).</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9230"></a>1.39.2.&nbsp;View system information</h3></div></div></div><p>To get information about the current system you can do a GET request to this URL:</p><pre class="screen">api/system/info</pre><p>JSON and JSONP response formats are supported. The system info response currently
        includes the below properties. Note that if the user who is requesting this resourec does
        not have full authority in the system then only the first seven properties will be included,
        as this information is security sensitive.</p><pre class="screen">{
    contextPath: "http://yourdomain.com",
    userAgent: "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 Chrome/29.0.1547.62 Safari/537.36",
    version: "2.13-SNAPSHOT",
    revision: "11852",
    buildTime: "2013-09-01T21:36:21.000+0000",
    serverDate: "2013-09-02T12:35:54.311+0000",
    environmentVariable: "DHIS2_HOME",
    javaVersion: "1.7.0_06",
    javaVendor: "Oracle Corporation",
    javaIoTmpDir: "/tmp",
    javaOpts: "-Xms600m -Xmx1500m -XX:PermSize=400m -XX:MaxPermSize=500m",
    osName: "Linux",
    osArchitecture: "amd64",
    osVersion: "3.2.0-52-generic",
    externalDirectory: "/home/dhis/config/dhis2",
    databaseInfo: {
        type: "PostgreSQL",
        name: "dhis2",
        user: "dhis",
        spatialSupport: false
    },
    memoryInfo: "Mem Total in JVM: 848 Free in JVM: 581 Max Limit: 1333",
    cpuCores: 8
}</pre><p>To get information about the system context (<span class="italic">contextPath</span> and <span class="italic">userAgent</span>) only you can do
        a GET request to the below URL. JSON and JSONP response formats are supported:
        </p><pre class="screen">api/system/context</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9251"></a>1.39.3.&nbsp;Check if username and password combination is correct</h3></div></div></div><p>To check if some user credentials (a username and password combination) is correct you
        can make a <span class="italic">GET</span> request to the following resource using
          <span class="italic">basic authentication</span>:</p><pre class="screen">api/system/ping</pre><p>You can detect the outcome of the authentication by inspecting the <span class="italic">HTTP status code</span> of the response header. The meaning of the
        possible status codes are listed below. Note that this applies to Web API requests in
        general.</p><div class="table"><a name="d0e9269"></a><p class="title"><b>Table&nbsp;1.69.&nbsp;HTTP Status codes</b></p><div class="table-contents"><table class="table" summary="HTTP Status codes" border="1"><colgroup><col class="c1"><col class="c2"><col class="newCol3"></colgroup><thead><tr><th>HTTP Status code</th><th>Description</th><th>Outcome</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>Authentication was successful</td></tr><tr><td>302</td><td>Found</td><td>No credentials was supplied with the request - no authentication took
                place</td></tr><tr><td>401</td><td>Unauthorized</td><td>The username and password combination was incorrect - authentication
                failed</td></tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9306"></a>1.39.4.&nbsp;View asynchronous task status</h3></div></div></div><p>Several tasks which typically take a significant time to complete can be performed
        asynchronously. After initiating an async task you can poll the status through the <span class="italic">system/tasks</span> resource by suppling the task category of interest. </p><p>When polling for the task status you need to authenticate as the same user which
        initiated the task. The following task categories are supported.</p><p>
        </p><div class="table"><a name="d0e9318"></a><p class="title"><b>Table&nbsp;1.70.&nbsp;Task categories</b></p><div class="table-contents"><table class="table" summary="Task categories" border="1"><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><th>Identifier</th><th>Description</th></tr></thead><tbody><tr><td>ANALYTICSTABLE_UPDATE</td><td>Generation of the analytics tables.</td></tr><tr><td>RESOURCETABLE_UPDATE</td><td>Generation of the resource tables.</td></tr><tr><td>MONITORING</td><td>Processing of data surveillance/monitoring validation rules.</td></tr><tr><td>DATAVALUE_IMPORT</td><td>Import of data values.</td></tr><tr><td>EVENT_IMPORT</td><td>Import of events.</td></tr><tr><td>METADATA_IMPORT</td><td>Import of metadata.</td></tr><tr><td>DATAINTEGRITY</td><td>Processing of data integrity checks.</td></tr></tbody></table></div></div><p><br class="table-break">
      </p><p>You can poll tasks through a GET request to the system tasks
        resource:</p><pre class="screen">api/system/tasks/{task-category-id}</pre><p>A request to poll for the status of a data value import task looks like
        this:</p><pre class="screen">api/system/tasks/DATAVALUE_IMPORT</pre><p>The response will provide information about the status, such as the notification level,
        category, time and status. The completed property indicates whether the process is
        considered to be
        complete.</p><pre class="screen">[
    {
        "uid": "hpiaeMy7wFX",
        "level": "INFO",
        "category": "DATAVALUE_IMPORT",
        "time": "2015-09-02T07:43:14.595+0000",
        "message": "Import done",
        "completed": true
    }
]</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9379"></a>1.39.5.&nbsp;Get appearance information</h3></div></div></div><p>You can retrieve the available flag icons in JSON format with a GET
        request:</p><pre class="screen">/api/system/flags</pre><p>You can retrieve the available UI styles in JSON format with a GET
        request:</p><pre class="screen">/api/system/styles</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01s38.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch01.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch01s40.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.38.&nbsp;Maintenance&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="dhis2_developer_manual.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;1.40.&nbsp;Locales</td></tr></table></div></body></html>