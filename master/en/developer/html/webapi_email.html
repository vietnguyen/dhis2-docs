<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>1.64.&nbsp;Email</title><link rel="stylesheet" type="text/css" href="resources/css/docbook_bsd.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="dhis2_developer_manual.html" title="DHIS2 Developer Manual"><link rel="up" href="webapi.html" title="Chapter&nbsp;1.&nbsp;Web API"><link rel="prev" href="webapi_tracker_bulk_deletion.html" title="1.63.&nbsp;Tracker bulk deletion"><link rel="next" href="webapi_sharing.html" title="1.65.&nbsp;Sharing"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1.64.&nbsp;Email</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="webapi_tracker_bulk_deletion.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;1.&nbsp;Web API</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="webapi_sharing.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="webapi_email"></a>1.64.&nbsp;Email</h2></div></div></div><p>The Web API features a resource for sending emails. For emails to be sent it is required
      that the SMTP configuration has been properly set up and that a system notification email
      address for the DHIS2 instance has been defined. You can set SMTP settings from the email
      settings screen and system notification email address from the general settings screen in DHIS
      2.</p><pre class="screen">/api/25/email</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13697"></a>1.64.1.&nbsp;System notification</h3></div></div></div><p>The <span class="italic">notification</span> resource lets you send system email
        notifications with a given subject and text in JSON or XML. The email will be sent to the
        notification email address as defined in the DHIS2 general system settings:</p><pre class="screen">{
  "subject": "Integrity check summary",
  "text": "All checks ran successfully"
}</pre><p>You can send a system email notification by posting to the notification resource like
        this:</p><pre class="screen">curl -d @email.json "localhost/api/25/email/notification" -X POST -H "Content-Type:application/json" -u admin:district -v</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e13711"></a>1.64.2.&nbsp;Test message</h3></div></div></div><p>To test whether the SMTP setup is correct by sending a test email to yourself you can
        interact with the <span class="italic">test</span> resource. To send test emails it
        is required that your DHIS2 user account has a valid email address associated with it. You
        can send a test email like this:</p><pre class="screen">curl "localhost/api/25/email/test" -X POST -H "Content-Type:application/json" -u admin:district -v</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="webapi_tracker_bulk_deletion.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="webapi.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="webapi_sharing.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.63.&nbsp;Tracker bulk deletion&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="dhis2_developer_manual.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;1.65.&nbsp;Sharing</td></tr></table></div></body></html>