<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>4.6.&nbsp; The Persistence Layer</title><link rel="stylesheet" type="text/css" href="resources/css/docbook_bsd.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="keywords" content="DHIS, Technical requirements, Project structure, Document"><link rel="home" href="dhis2_developer_manual.html" title="DHIS2 Developer Manual"><link rel="up" href="technical_architecture.html" title="Chapter&nbsp;4.&nbsp;DHIS2 Technical Architecture"><link rel="prev" href="techarch_data_model.html" title="4.5.&nbsp;The Data Model"><link rel="next" href="techarch_business_layer.html" title="4.7.&nbsp; The Business Layer"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.6.&nbsp; The Persistence Layer </th></tr><tr><td width="20%" align="left"><a accesskey="p" href="techarch_data_model.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;4.&nbsp;DHIS2 Technical Architecture</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="techarch_business_layer.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="techarch_persistence_layer"></a>4.6.&nbsp; The Persistence Layer </h2></div></div></div><p>The persistence layer is based on Hibernate in order to achieve the ability to run on any major DBMS. Hibernate abstracts the underlying DBMS away and let you define the database connection properties in a file called hibernate.properties. </p><p>DHIS2 uses Spring-Hibernate integration, and retrieves a SessionFactory through Spring&#8217;s LocalSessionFactoryBean. This LocalSessionFactoryBean is injected with a custom HibernateConfigurationProvider instance which fetches Hibernate mapping files from all modules currently on the classpath. All store implementations get injected with a SessionFactory and use this to perform persistence operations.</p><p>Most important objects have their corresponding Hibernate store implementation. A store provides methods for CRUD operations and queries for that object, e.g. HibernateDataElementStore which offers methods such as <span class="italic">addDataElement( DataElement ), deleteDataElement( DataElement ), getDataElementByName( String )</span>, etc.</p><div class="screenshot"><div class="mediaobject" align="center"><img src="resources/images/dhis2_technical_architecture/persistence_layer.jpg" align="middle"></div></div><p>Fig. Persistence layer</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="techarch_data_model.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="technical_architecture.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="techarch_business_layer.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4.5.&nbsp;The Data Model&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="dhis2_developer_manual.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;4.7.&nbsp; The Business Layer </td></tr></table></div></body></html>