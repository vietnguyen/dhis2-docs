<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>22.5.&nbsp;SMS Service</title><link rel="stylesheet" type="text/css" href="resources/css/docbook_bsd.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="dhis2_user_manual_en.html" title="DHIS2 User Manual"><link rel="up" href="ch22.html" title="Chapter&nbsp;22.&nbsp;Mobile"><link rel="prev" href="ch22s04.html" title="22.4.&nbsp;SMS Command"><link rel="next" href="ch23.html" title="Chapter&nbsp;23.&nbsp;Using Event Capture"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">22.5.&nbsp;SMS Service</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch22s04.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;22.&nbsp;Mobile</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch23.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mobile_sms_service"></a>22.5.&nbsp;SMS Service</h2></div></div></div><p>SMS Service is a generic service used for sending/receiving SMS. Any other DHIS2 module can include this service and utilize it to send and receive SMS from users or workers in the field.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e16749"></a>22.5.1.&nbsp;Setting up SMS service</h3></div></div></div><p>There are few pre-requisites in order to make this service functional. There are two ways to complete these steps. One way is to configure gateway from the GUI in Mobile Configuration Module. The other
    way is to use SMS Web Api.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Configure SMS Gateway</p></li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e16758"></a>22.5.1.1.&nbsp;Configure SMS Gateway</h4></div></div></div><p>There are five different types of Gateways supported by SMS Service. SMS can be sent if any one of the gateway is configured. If more than one gateways are present, then they will be used in round-robin fashion for load balancing.
      There are different parameters for different type of gateway. The Gateway can be configured in GUI in Mobile Configuration Module as shown in the figure. More information about parameters needed to configure 
      gateway can be found in <a class="link" href="ch22s05.html#gateway.configuration" title="22.5.2.&nbsp;Gateway Configurations">Gateway Configuraitons</a></p><div class="screenshot"><div class="mediaobject" align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="40%"><tr><td align="center"><img src="resources/images/dhis2_mobile_sms/gateway_configurations.png" align="middle" width="100%"></td></tr></table></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e16769"></a>22.5.1.2.&nbsp;Configure GenericHttp Gateway</h4></div></div></div><p>Many DHIS2 instances are using GenericHttpGateway to connect to their local gateways. These local gateways provides HTTP APIs for sending SMS. In new GenericHttpGateway it is now possible to configure url parameters provided in their APIs. For example
        <code class="uri">http://gateway.com/sendMessage?username=AA&amp;password=xxxxx&amp;message=testing&amp;msisdn=9999</code>. In this url username, password, message, msisdn are parameters that are required by external gateways. Now in GenericHttp these parameters are configurable which was not possible in previous releases. 
      Making is configurable will help DHIS2 to interact with other gateways which have different url formats.
      </p><div class="screenshot"><div class="mediaobject" align="center"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="40%"><tr><td align="center"><img src="resources/images/dhis2_mobile_sms/generichttp-configuration.png" align="middle" width="100%"></td></tr></table></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gateway.configuration"></a>22.5.2.&nbsp;Gateway Configurations</h3></div></div></div><p>Below table shows the parameters required for configuring gateway.</p><div class="table"><a name="d0e16786"></a><p class="title"><b>Table&nbsp;22.2.&nbsp;Gateway Configuration Parameters</b></p><div class="table-contents"><table class="table" summary="Gateway Configuration Parameters" border="1"><colgroup><col class="c1"><col class="c2"><col class="c3"><col class="c4"><col class="c5"></colgroup><thead><tr><th>Parameter</th><th>BulkSMS  Gateway</th><th>Clickatell Gateway</th><th>Generic HTTP Gateway</th><th>Description</th></tr></thead><tbody><tr><td>Gateway Name</td><td>Optional</td><td>Optional</td><td>Optional</td><td>Used as gateway identity. Default name will be stored in case this parameter is not configured. Its use is recommended</td></tr><tr><td>User Name</td><td>Required</td><td>Required</td><td>Required</td><td>Used for API authentication</td></tr><tr><td>Password</td><td>Required</td><td>Required</td><td>Required</td><td>Used for API authentication</td></tr><tr><td>Auth-Token</td><td>N/A</td><td>Required</td><td>N/A</td><td>Used for API authentication</td></tr><tr><td>MessageParameter</td><td>N/A</td><td>N/A</td><td>Required</td><td>Message query parameter. For example http://gateway.com?<span class="italic">message</span>=Hi</td></tr><tr><td>RecipientParameter</td><td>N/A</td><td>N/A</td><td>Required</td><td>Recipient query parameter. For example http://gateway.com?<span class="italic">phoneNumber</span>=47XXXXX</td></tr><tr><td>URL Template</td><td>N/A</td><td>N/A</td><td>Required</td><td>Url Tempalte is only required in case of GenericHttpGateway . For example "http://smsgatewa1.com"</td></tr></tbody></table></div></div><br class="table-break"></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch22s04.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch22.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch23.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">22.4.&nbsp;SMS Command&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="dhis2_user_manual_en.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;23.&nbsp;Using Event Capture</td></tr></table></div></body></html>